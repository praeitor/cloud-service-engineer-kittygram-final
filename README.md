#  Как работать с репозиторием финального задания

## Инфраструктура

Развёртывание инфраструктуры осуществляется средствами Terraform в Yandex Cloud.
	•	Используется VPC, подсеть, публичный IP, секьюрити-группа и виртуальная машина.
	•	Workflow запускается в ручном режиме через GitHub Actions.

YC_TOKEN - OAuth-токен Yandex Cloud (сгенерировать в IAM)
YC_CLOUD_ID - ID облака Yandex Cloud
YC_FOLDER_ID - ID каталога в котором создаются ресурсы
YC_ZONE - Зона доступности (например, ru-central1-a)
YC_SSH_PUBLIC_KEY - Публичный SSH-ключ для доступа к ВМ
YC_SSH_PRIVATE_KEY - Приватный SSH-ключ (используется для Ansible-доступа)

### Обязательные секреты GitHub

Перед запуском необходимо добавить в секреты репозитория следующие параметры:


## Что нужно сделать

Настроить запуск проекта Kittygram в контейнерах и CI/CD с помощью GitHub Actions

## Как проверить работу с помощью автотестов

В корне репозитория создайте файл tests.yml со следующим содержимым:
```yaml
repo_owner: ваш_логин_на_гитхабе
kittygram_domain: полная ссылка (http://<ip-адрес вашей ВМ>:<порт gateway>) на ваш проект Kittygram
dockerhub_username: ваш_логин_на_докерхабе
```

Скопируйте содержимое файла `.github/workflows/main.yml` в файл `kittygram_workflow.yml` в корневой директории проекта.

Для локального запуска тестов создайте виртуальное окружение, установите в него зависимости из backend/requirements.txt и запустите в корневой директории проекта `pytest`.

## Чек-лист для проверки перед отправкой задания

- Проект Kittygram доступен по ссылке, указанной в `tests.yml`.
- Пуш в ветку main запускает тестирование и деплой Kittygram, а после успешного деплоя вам приходит сообщение в телеграм.
- В корне проекта есть файл `kittygram_workflow.yml`.
